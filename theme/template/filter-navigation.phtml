<?php
/**
 * @var \LizardsAndPumpkins\Product\Block\FilterNavigationBlock $this
 * @var \LizardsAndPumpkins\Product\FilterNavigationFilter $filter
 * @var \LizardsAndPumpkins\Product\FilterNavigationFilterOption $filterOption
 */
?>
<?php foreach ($this->getFilterCollection() as $filter) : ?>
    <div class="block-title roundedBorder expanded"><?= $this->__($filter->getCode()) ?></div>
    <ol class="filter-content scroll-pane filter-<?= $filter->getCode() ?>">
        <?php foreach ($filter->getOptionCollection() as $filterOption) : ?>
            <?php if ('color' === $filter->getCode()) : ?>
                <li><a href="<?php /* TODO: Insert base URL */ ?>?<?= $this->getQueryStringForFilterSelection($filterOption) ?>" style="background-color: #<?= $filterOption->getValue() ?>"><?php if ($filterOption->isSelected()) : ?>&#x2713;<?php else : ?>&nbsp;<?php endif ?></a></li>
            <?php else : ?>
            <li<?php if ($filterOption->isSelected()) : ?> class="active"<?php endif ?>>
                <a href="<?php /* TODO: Insert base URL */ ?>?<?= $this->getQueryStringForFilterSelection($filterOption) ?>"><?= $filterOption->getValue() ?> (<?= $filterOption->getCount() ?>)</a>
            </li>
            <?php endif ?>
        <?php endforeach ?>
    </ol>
<?php endforeach ?>
