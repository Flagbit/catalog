/*

 Uniform v2.1.2
 Copyright Â© 2009 Josh Pyles / Pixelmatrix Design LLC
 http://pixelmatrixdesign.com

 Requires jQuery 1.3 or newer

 Much thanks to Thomas Reynolds and Buck Wilson for their help and advice on
 this.

 Disabling text selection is made possible by Mathias Bynens
 <http://mathiasbynens.be/> and his noSelect plugin.
 <https://github.com/mathiasbynens/jquery-noselect>, which is embedded.

 Also, thanks to David Kaneda and Eugene Bond for their contributions to the
 plugin.

 Tyler Akins has also rewritten chunks of the plugin, helped close many issues,
 and ensured version 2 got out the door.

 License:
 MIT License - http://www.opensource.org/licenses/mit-license.php

 Enjoy!

 */
(function(a,b){if(typeof define==='function'&&define.amd){define(['jquery'],function($){b($)})}else{b(a.jQuery)}}(this,function($){(function(f,$,g){"use strict";function attrOrProp(a){var b=Array.prototype.slice.call(arguments,1);if(a.prop){return a.prop.apply(a,b)}return a.attr.apply(a,b)}function bindMany(a,b,c){var d,namespaced;for(d in c){if(c.hasOwnProperty(d)){namespaced=d.replace(/ |$/g,b.eventNamespace);a.bind(namespaced,c[d])}}}function bindUi(a,b,c){bindMany(a,c,{focus:function(){b.addClass(c.focusClass)},blur:function(){b.removeClass(c.focusClass);b.removeClass(c.activeClass)},mouseenter:function(){b.addClass(c.hoverClass)},mouseleave:function(){b.removeClass(c.hoverClass);b.removeClass(c.activeClass)},"mousedown touchbegin":function(){if(!a.is(":disabled")){b.addClass(c.activeClass)}},"mouseup touchend":function(){b.removeClass(c.activeClass)}})}function classClearStandard(a,b){a.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass)}function classUpdate(a,b,c){if(c){a.addClass(b)}else{a.removeClass(b)}}function classUpdateChecked(a,b,d){var c="checked",isChecked=b.is(":"+c);if(b.prop){b.prop(c,isChecked)}else{if(isChecked){b.attr(c,c)}else{b.removeAttr(c)}}classUpdate(a,d.checkedClass,isChecked)}function classUpdateDisabled(a,b,c){classUpdate(a,c.disabledClass,b.is(":disabled"))}function divSpanWrap(a,b,c){switch(c){case"after":a.after(b);return a.next();case"before":a.before(b);return a.prev();case"wrap":a.wrap(b);return a.parent()}return null}function divSpan(a,b,c){var d,$span,id;if(!c){c={}}c=$.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},c);d=$('<div />');$span=$('<span />');if(b.autoHide&&a.is(':hidden')&&a.css('display')==='none'){d.hide()}if(c.divClass){d.addClass(c.divClass)}if(b.wrapperClass){d.addClass(b.wrapperClass)}if(c.spanClass){$span.addClass(c.spanClass)}id=attrOrProp(a,'id');if(b.useID&&id){attrOrProp(d,'id',b.idPrefix+'-'+id)}if(c.spanHtml){$span.html(c.spanHtml)}d=divSpanWrap(a,d,c.divWrap);$span=divSpanWrap(a,$span,c.spanWrap);classUpdateDisabled(d,a,b);return{div:d,span:$span}}function wrapWithWrapperClass(a,b){var c;if(!b.wrapperClass){return null}c=$('<span />').addClass(b.wrapperClass);c=divSpanWrap(a,c,"wrap");return c}function highContrast(){var c,$div,el,rgb;rgb='rgb(120,2,153)';$div=$('<div style="width:0;height:0;color:'+rgb+'">');$('body').append($div);el=$div.get(0);if(f.getComputedStyle){c=f.getComputedStyle(el,'').color}else{c=(el.currentStyle||el.style||{}).color}$div.remove();return c.replace(/ /g,'')!==rgb}function htmlify(a){if(!a){return""}return $('<span />').text(a).html()}function isMsie(){return navigator.cpuClass&&!navigator.product}function isMsieSevenOrNewer(){if(f.XMLHttpRequest!==undefined){return true}return false}function isMultiselect(a){var b;if(a[0].multiple){return true}b=attrOrProp(a,"size");if(!b||b<=1){return false}return true}function returnFalse(){return false}function noSelect(a,b){var c='none';bindMany(a,b,{'selectstart dragstart mousedown':returnFalse});a.css({MozUserSelect:c,msUserSelect:c,webkitUserSelect:c,userSelect:c})}function setFilename(a,b,c){var d=a.val();if(d===""){d=c.fileDefaultHtml}else{d=d.split(/[\/\\]+/);d=d[(d.length-1)]}b.text(d)}function swap(b,c,d){var e,item;e=[];b.each(function(){var a;for(a in c){if(Object.prototype.hasOwnProperty.call(c,a)){e.push({el:this,name:a,old:this.style[a]});this.style[a]=c[a]}}});d();while(e.length){item=e.pop();item.el.style[item.name]=item.old}}function sizingInvisible(a,b){var c;c=a.parents();c.push(a[0]);c=c.not(':visible');swap(c,{visibility:"hidden",display:"block",position:"absolute"},b)}function unwrapUnwrapUnbindFunction(a,b){return function(){a.unwrap().unwrap().unbind(b.eventNamespace)}}var h=true,highContrastTest=false,uniformHandlers=[{match:function(a){return a.is("a, button, :submit, :reset, input[type='button']")},apply:function(b,c){var d,defaultSpanHtml,ds,getHtml,doingClickEvent;defaultSpanHtml=c.submitDefaultHtml;if(b.is(":reset")){defaultSpanHtml=c.resetDefaultHtml}if(b.is("a, button")){getHtml=function(){return b.html()||defaultSpanHtml}}else{getHtml=function(){return htmlify(attrOrProp(b,"value"))||defaultSpanHtml}}ds=divSpan(b,c,{divClass:c.buttonClass,spanHtml:getHtml()});d=ds.div;bindUi(b,d,c);doingClickEvent=false;bindMany(d,c,{"click touchend":function(){var a,res,target,href;if(doingClickEvent){return}if(b.is(':disabled')){return}doingClickEvent=true;if(b[0].dispatchEvent){a=document.createEvent("MouseEvents");a.initEvent("click",true,true);res=b[0].dispatchEvent(a);if(b.is('a')&&res){target=attrOrProp(b,'target');href=attrOrProp(b,'href');if(!target||target==='_self'){document.location.href=href}else{f.open(href,target)}}}else{b.click()}doingClickEvent=false}});noSelect(d,c);return{remove:function(){d.after(b);d.remove();b.unbind(c.eventNamespace);return b},update:function(){classClearStandard(d,c);classUpdateDisabled(d,b,c);b.detach();ds.span.html(getHtml()).append(b)}}}},{match:function(a){return a.is(":checkbox")},apply:function(a,b){var c,$div,$span;c=divSpan(a,b,{divClass:b.checkboxClass});$div=c.div;$span=c.span;bindUi(a,$div,b);bindMany(a,b,{"click touchend":function(){classUpdateChecked($span,a,b)}});classUpdateChecked($span,a,b);return{remove:unwrapUnwrapUnbindFunction(a,b),update:function(){classClearStandard($div,b);$span.removeClass(b.checkedClass);classUpdateChecked($span,a,b);classUpdateDisabled($div,a,b)}}}},{match:function(a){return a.is(":file")},apply:function(a,b){var c,$div,$filename,$button;c=divSpan(a,b,{divClass:b.fileClass,spanClass:b.fileButtonClass,spanHtml:b.fileButtonHtml,spanWrap:"after"});$div=c.div;$button=c.span;$filename=$("<span />").html(b.fileDefaultHtml);$filename.addClass(b.filenameClass);$filename=divSpanWrap(a,$filename,"after");if(!attrOrProp(a,"size")){attrOrProp(a,"size",$div.width()/10)}function filenameUpdate(){setFilename(a,$filename,b)}bindUi(a,$div,b);filenameUpdate();if(isMsie()){bindMany(a,b,{click:function(){a.trigger("change");setTimeout(filenameUpdate,0)}})}else{bindMany(a,b,{change:filenameUpdate})}noSelect($filename,b);noSelect($button,b);return{remove:function(){$filename.remove();$button.remove();return a.unwrap().unbind(b.eventNamespace)},update:function(){classClearStandard($div,b);setFilename(a,$filename,b);classUpdateDisabled($div,a,b)}}}},{match:function(a){if(a.is("input")){var t=(" "+attrOrProp(a,"type")+" ").toLowerCase(),allowed=" color date datetime datetime-local email month number password search tel text time url week ";return allowed.indexOf(t)>=0}return false},apply:function(a,b){var c,$wrapper;c=attrOrProp(a,"type");a.addClass(b.inputClass);$wrapper=wrapWithWrapperClass(a,b);bindUi(a,a,b);if(b.inputAddTypeAsClass){a.addClass(c)}return{remove:function(){a.removeClass(b.inputClass);if(b.inputAddTypeAsClass){a.removeClass(c)}if($wrapper){a.unwrap()}},update:returnFalse}}},{match:function(a){return a.is(":radio")},apply:function(a,b){var c,$div,$span;c=divSpan(a,b,{divClass:b.radioClass});$div=c.div;$span=c.span;bindUi(a,$div,b);bindMany(a,b,{"click touchend":function(){$.uniform.update($(':radio[name="'+attrOrProp(a,"name")+'"]'))}});classUpdateChecked($span,a,b);return{remove:unwrapUnwrapUnbindFunction(a,b),update:function(){classClearStandard($div,b);classUpdateChecked($span,a,b);classUpdateDisabled($div,a,b)}}}},{match:function(a){if(a.is("select")&&!isMultiselect(a)){return true}return false},apply:function(b,c){var d,$div,$span,origElemWidth;if(c.selectAutoWidth){sizingInvisible(b,function(){origElemWidth=b.width()})}d=divSpan(b,c,{divClass:c.selectClass,spanHtml:(b.find(":selected:first")||b.find("option:first")).html(),spanWrap:"before"});$div=d.div;$span=d.span;if(c.selectAutoWidth){sizingInvisible(b,function(){swap($([$span[0],$div[0]]),{display:"block"},function(){var a;a=$span.outerWidth()-$span.width();$div.width(origElemWidth+a);$span.width(origElemWidth)})})}else{$div.addClass('fixedWidth')}bindUi(b,$div,c);bindMany(b,c,{change:function(){$span.html(b.find(":selected").html());$div.removeClass(c.activeClass)},"click touchend":function(){var a=b.find(":selected").html();if($span.html()!==a){b.trigger('change')}},keyup:function(){$span.html(b.find(":selected").html())}});noSelect($span,c);return{remove:function(){$span.remove();b.unwrap().unbind(c.eventNamespace);return b},update:function(){if(c.selectAutoWidth){$.uniform.restore(b);b.uniform(c)}else{classClearStandard($div,c);$span.html(b.find(":selected").html());classUpdateDisabled($div,b,c)}}}}},{match:function(a){if(a.is("select")&&isMultiselect(a)){return true}return false},apply:function(a,b){var c;a.addClass(b.selectMultiClass);c=wrapWithWrapperClass(a,b);bindUi(a,a,b);return{remove:function(){a.removeClass(b.selectMultiClass);if(c){a.unwrap()}},update:returnFalse}}},{match:function(a){return a.is("textarea")},apply:function(a,b){var c;a.addClass(b.textareaClass);c=wrapWithWrapperClass(a,b);bindUi(a,a,b);return{remove:function(){a.removeClass(b.textareaClass);if(c){a.unwrap()}},update:returnFalse}}}];if(isMsie()&&!isMsieSevenOrNewer()){h=false}$.uniform={defaults:{activeClass:"active",autoHide:true,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:true,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:false,selectAutoWidth:true,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:true,wrapperClass:null},elements:[]};$.fn.uniform=function(b){var c=this;b=$.extend({},$.uniform.defaults,b);if(!highContrastTest){highContrastTest=true;if(highContrast()){h=false}}if(!h){return this}if(b.resetSelector){$(b.resetSelector).mouseup(function(){f.setTimeout(function(){$.uniform.update(c)},10)})}return this.each(function(){var a=$(this),i,handler,callbacks;if(a.data("uniformed")){$.uniform.update(a);return}for(i=0;i<uniformHandlers.length;i=i+1){handler=uniformHandlers[i];if(handler.match(a,b)){callbacks=handler.apply(a,b);a.data("uniformed",callbacks);$.uniform.elements.push(a.get(0));return}}})};$.uniform.restore=$.fn.uniform.restore=function(b){if(b===g){b=$.uniform.elements}$(b).each(function(){var a=$(this),index,elementData;elementData=a.data("uniformed");if(!elementData){return}elementData.remove();index=$.inArray(this,$.uniform.elements);if(index>=0){$.uniform.elements.splice(index,1)}a.removeData("uniformed")})};$.uniform.update=$.fn.uniform.update=function(b){if(b===g){b=$.uniform.elements}$(b).each(function(){var a=$(this),elementData;elementData=a.data("uniformed");if(!elementData){return}elementData.update(a,elementData.options)})}}(this,jQuery))}));
